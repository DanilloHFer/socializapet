<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loja - SocializaPet</title>
    <!-- Favicons -->
    <link rel="icon" type="image/png" sizes="64x64" href="imagens/favicon-64x64.png?v=2">
    <link rel="icon" type="image/png" sizes="48x48" href="imagens/favicon-48x48.png?v=2">
    <link rel="icon" type="image/png" sizes="40x40" href="imagens/favicon-40x40.png?v=2">
    <link rel="icon" type="image/png" sizes="32x32" href="imagens/favicon-40x40.png?v=2">
    <link rel="icon" type="image/png" sizes="16x16" href="imagens/favicon-40x40.png?v=2">
    <link rel="apple-touch-icon" href="imagens/apple-touch-icon.png?v=2">
    <link rel="shortcut icon" type="image/x-icon" href="imagens/favicon-64x64.png?v=2">
    <meta name="theme-color" content="#F28DB2">

    <!-- Fontes do sistema para independ√™ncia -->

    <style>
        :root {
            --primary-blue: #0597F2;
            --primary-pink: #F28DB2;
            --dark-blue: #03658C;
            --accent-blue: #049DBF;
            --light-bg: #F2F2F2;
            --white: #FFFFFF;
            --gradient-1: linear-gradient(135deg, #F28DB2 0%, #0597F2 100%);
            --success: #28a745;
            --warning: #ffc107;
            --danger: #dc3545;
            --info: #17a2b8;
            --gradient-2: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --gradient-3: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            --gradient-4: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
            --neon-pink: #ff0080;
            --neon-blue: #00d4ff;
            --purple: #6c5ce7;
            --orange: #fd79a8;
            --success: #00b894;
            --warning: #fdcb6e;
            --danger: #e17055;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: var(--light-bg);
            color: #333;
            line-height: 1.6;
        }

        /* Header */
        .header {
            background: var(--gradient-1);
            color: var(--white);
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
        }

        .logo {
            display: flex;
            align-items: center;
            text-decoration: none;
            color: var(--white);
            font-size: 1.8rem;
            font-weight: 800;
            font-family: 'Best School', 'Fredoka One', cursive;
        }

        .nav-menu {
            display: flex;
            list-style: none;
            gap: 2rem;
            align-items: center;
        }

        .nav-menu a {
            color: var(--white);
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            padding: 8px 16px;
            border-radius: 20px;
        }

        .nav-menu a:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        .cart-icon {
            position: relative;
            background: rgba(255, 255, 255, 0.2);
            padding: 12px;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            color: var(--white);
            font-size: 1.2rem;
        }

        .cart-icon:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
        }

        .cart-count {
            position: absolute;
            top: -5px;
            right: -5px;
            background: var(--danger);
            color: var(--white);
            border-radius: 50%;
            width: 20px;
            height: 20px;
            font-size: 0.8rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        /* Banner */
        .banner {
            max-width: 1200px;
            margin: 2rem auto;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
            position: relative;
        }

        .banner img {
            width: 100%;
            height: 300px;
            object-fit: cover;
        }

        .banner-placeholder {
            width: 100%;
            height: 300px;
            background: var(--gradient-1);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: var(--white);
            font-size: 1.5rem;
            font-weight: 600;
            text-align: center;
        }

        .banner-placeholder h2 {
            margin: 0 0 10px 0;
            font-size: 2rem;
        }

        .banner-placeholder p {
            margin: 0;
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .banner-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.3));
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: var(--white);
            text-align: center;
            padding: 20px;
        }

        .banner-overlay h2 {
            font-size: 2.5rem;
            margin: 0 0 15px 0;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            font-weight: 700;
        }

        .banner-overlay p {
            font-size: 1.3rem;
            margin: 0;
            opacity: 0.95;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        }

        /* Categories */
        .categories {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 20px;
        }

        .categories h2 {
            text-align: center;
            color: var(--dark-blue);
            margin-bottom: 2rem;
            font-size: 2.5rem;
            font-weight: 800;
        }

        .category-filters {
            display: flex;
            justify-content: center;
            gap: 1rem;
            flex-wrap: wrap;
            margin-bottom: 3rem;
        }

        .category-btn {
            background: var(--white);
            border: 2px solid var(--primary-pink);
            color: var(--primary-pink);
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            font-size: 1rem;
        }

        .category-btn:hover,
        .category-btn.active {
            background: var(--primary-pink);
            color: var(--white);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(242, 141, 178, 0.4);
        }

        .category-btn.special {
            background: var(--gradient-4);
            border: 2px solid var(--success);
            color: var(--white);
            animation: pulse 2s infinite;
        }

        .category-btn.special:hover {
            background: var(--success);
            transform: translateY(-2px) scale(1.05);
        }

        @keyframes pulse {
            0% {
                box-shadow: 0 0 0 0 rgba(67, 234, 123, 0.7);
            }

            70% {
                box-shadow: 0 0 0 10px rgba(67, 234, 123, 0);
            }

            100% {
                box-shadow: 0 0 0 0 rgba(67, 234, 123, 0);
            }
        }

        /* Products Grid */
        .products-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
            margin-bottom: 4rem;
        }

        .product-card {
            background: var(--white);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            position: relative;
            cursor: pointer;
        }

        .product-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
        }

        .product-card.special::before {
            content: "üíù PRODUTO ESPECIAL";
            position: absolute;
            top: 15px;
            left: -30px;
            background: var(--success);
            color: var(--white);
            padding: 5px 40px;
            font-size: 0.8rem;
            font-weight: bold;
            transform: rotate(-45deg);
            z-index: 5;
        }

        .product-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .product-card:hover .product-image {
            transform: scale(1.05);
        }

        .product-info {
            padding: 1.5rem;
        }

        .product-category {
            background: var(--gradient-1);
            color: var(--white);
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 600;
            display: inline-block;
            margin-bottom: 0.5rem;
        }

        .product-title {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--dark-blue);
            margin-bottom: 0.5rem;
        }

        .product-description {
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 1rem;
            line-height: 1.5;
        }

        .product-price {
            font-size: 1.5rem;
            font-weight: 800;
            color: var(--primary-pink);
            margin-bottom: 1rem;
        }

        .add-to-cart-btn {
            width: 100%;
            background: var(--gradient-1);
            color: var(--white);
            border: none;
            padding: 12px;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
        }

        .add-to-cart-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(242, 141, 178, 0.4);
        }

        .product-actions {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .buy-direct-btn {
            width: 100%;
            background: linear-gradient(135deg, #EE4D2D 0%, #FF6600 100%);
            color: var(--white);
            border: none;
            padding: 10px;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .buy-direct-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(238, 77, 45, 0.4);
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: var(--white);
            border-radius: 20px;
            max-width: 800px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            animation: modalSlideIn 0.3s ease-out;
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-50px) scale(0.9);
            }

            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .modal-header {
            position: relative;
            padding: 2rem;
            border-bottom: 1px solid #eee;
        }

        .close-modal {
            position: absolute;
            top: 20px;
            right: 20px;
            background: none;
            border: none;
            font-size: 2rem;
            cursor: pointer;
            color: #999;
            transition: color 0.3s ease;
        }

        .close-modal:hover {
            color: var(--danger);
        }

        .modal-body {
            padding: 2rem;
        }

        .modal-product-image {
            width: 100%;
            height: 300px;
            object-fit: cover;
            border-radius: 15px;
            margin-bottom: 1.5rem;
        }

        .modal-product-title {
            font-size: 2rem;
            font-weight: 800;
            color: var(--dark-blue);
            margin-bottom: 1rem;
        }

        .modal-product-price {
            font-size: 2.5rem;
            font-weight: 800;
            color: var(--primary-pink);
            margin-bottom: 1.5rem;
        }

        .product-specs {
            background: var(--light-bg);
            padding: 1.5rem;
            border-radius: 15px;
            margin-bottom: 1.5rem;
        }

        .product-specs h4 {
            color: var(--dark-blue);
            margin-bottom: 1rem;
            font-size: 1.2rem;
        }

        .product-specs ul {
            list-style: none;
            color: #666;
        }

        .product-specs li {
            margin-bottom: 0.5rem;
            padding-left: 1.5rem;
            position: relative;
        }

        .product-specs li::before {
            content: "‚úì";
            position: absolute;
            left: 0;
            color: var(--success);
            font-weight: bold;
        }

        .quantity-selector {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .quantity-label {
            font-weight: 600;
            color: var(--dark-blue);
        }

        .quantity-controls {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .quantity-btn {
            background: var(--primary-pink);
            color: var(--white);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2rem;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .quantity-btn:hover {
            background: var(--neon-pink);
            transform: scale(1.1);
        }

        .quantity-input {
            width: 60px;
            text-align: center;
            padding: 8px;
            border: 2px solid var(--primary-pink);
            border-radius: 8px;
            font-weight: bold;
            font-size: 1.1rem;
        }

        .modal-actions {
            display: flex;
            gap: 1rem;
        }

        .btn-primary {
            flex: 1;
            background: var(--gradient-1);
            color: var(--white);
            border: none;
            padding: 15px;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.1rem;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(242, 141, 178, 0.4);
        }

        .btn-secondary {
            flex: 1;
            background: var(--white);
            color: var(--primary-pink);
            border: 2px solid var(--primary-pink);
            padding: 15px;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.1rem;
        }

        .btn-secondary:hover {
            background: var(--primary-pink);
            color: var(--white);
        }

        /* Cart Sidebar */
        .cart-sidebar {
            position: fixed;
            top: 0;
            right: -400px;
            width: 400px;
            height: 100vh;
            background: var(--white);
            box-shadow: -5px 0 20px rgba(0, 0, 0, 0.1);
            z-index: 2500;
            transition: right 0.3s ease;
            display: flex;
            flex-direction: column;
        }

        .cart-sidebar.active {
            right: 0;
        }

        .cart-header {
            padding: 2rem;
            border-bottom: 1px solid #eee;
            background: var(--gradient-1);
            color: var(--white);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .cart-header h3 {
            font-size: 1.5rem;
            font-weight: 700;
        }

        .close-cart {
            background: none;
            border: none;
            color: var(--white);
            font-size: 1.5rem;
            cursor: pointer;
        }

        .cart-items {
            flex: 1;
            overflow-y: auto;
            padding: 1rem;
        }

        .cart-item {
            display: flex;
            gap: 1rem;
            padding: 1rem;
            border-bottom: 1px solid #eee;
            align-items: center;
        }

        .cart-item-image {
            width: 60px;
            height: 60px;
            object-fit: cover;
            border-radius: 8px;
        }

        .cart-item-info {
            flex: 1;
        }

        .cart-item-title {
            font-weight: 600;
            color: var(--dark-blue);
            margin-bottom: 0.5rem;
        }

        .cart-item-price {
            color: var(--primary-pink);
            font-weight: 700;
        }

        .cart-item-quantity {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }

        .cart-footer {
            padding: 2rem;
            border-top: 1px solid #eee;
            background: var(--light-bg);
        }

        .cart-total {
            text-align: center;
            margin-bottom: 1rem;
        }

        .cart-total-label {
            font-size: 1.2rem;
            color: var(--dark-blue);
            margin-bottom: 0.5rem;
        }

        .cart-total-price {
            font-size: 2rem;
            font-weight: 800;
            color: var(--primary-pink);
        }

        .checkout-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 1rem;
        }

        .checkout-btn {
            border: none;
            padding: 12px 8px;
            border-radius: 20px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
        }

        .ecommerce-btn {
            background: var(--gradient-1);
            color: var(--white);
        }

        .ecommerce-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(242, 141, 178, 0.3);
        }

        .whatsapp-btn {
            background: linear-gradient(135deg, #25D366 0%, #128C7E 100%);
            color: var(--white);
        }

        .whatsapp-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(37, 211, 102, 0.3);
        }

        .shopee-btn {
            background: linear-gradient(135deg, #EE4D2D 0%, #FF6600 100%);
            color: var(--white);
        }

        .shopee-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(238, 77, 45, 0.3);
        }

        /* Floating Checkout Button */
        .floating-checkout-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--gradient-1);
            color: var(--white);
            border: none;
            padding: 15px 20px;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 25px rgba(242, 141, 178, 0.3);
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 1rem;
            min-width: 180px;
            justify-content: center;
            position: relative;
        }

        .floating-checkout-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(242, 141, 178, 0.4);
        }

        .checkout-icon {
            font-size: 1.2rem;
        }

        .cart-badge {
            position: absolute;
            top: -8px;
            right: -8px;
            background: #ff4757;
            color: white;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            font-size: 0.8rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            justify-content: center;
            min-width: 24px;
        }

        .empty-cart {
            text-align: center;
            padding: 3rem 1rem;
            color: #999;
        }

        .empty-cart-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
        }

        /* Mobile Menu */
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: var(--white);
            font-size: 1.5rem;
            cursor: pointer;
            padding: 10px;
        }

        .mobile-nav {
            position: fixed;
            top: 0;
            left: -100%;
            width: 80%;
            max-width: 300px;
            height: 100vh;
            background: var(--gradient-1);
            transition: left 0.3s ease;
            z-index: 9999;
            padding-top: 80px;
        }

        .mobile-nav.active {
            left: 0;
        }

        .mobile-nav ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .mobile-nav li {
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .mobile-nav a {
            display: block;
            color: var(--white);
            text-decoration: none;
            padding: 20px 30px;
            font-weight: 600;
            font-size: 1.1rem;
            transition: all 0.3s ease;
        }

        .mobile-nav a:hover {
            background: rgba(255, 255, 255, 0.1);
            padding-left: 40px;
        }

        .mobile-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: rgba(0, 0, 0, 0.5);
            z-index: 9998;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .mobile-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        /* Checkout Styles */
        .checkout-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 10000;
            overflow-y: auto;
        }

        .checkout-modal.active {
            display: flex;
        }

        .checkout-container {
            background: var(--white);
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            border-radius: 20px;
            overflow: auto;
            position: relative;
            margin: 2rem 0;
        }

        .checkout-header {
            background: var(--gradient-1);
            color: var(--white);
            padding: 2rem;
            text-align: center;
            border-radius: 20px 20px 0 0;
            position: relative;
        }

        .checkout-close {
            position: absolute;
            top: 15px;
            right: 20px;
            background: none;
            border: none;
            color: var(--white);
            font-size: 2rem;
            cursor: pointer;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .checkout-close:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .checkout-content {
            padding: 2rem;
        }

        .checkout-section {
            margin-bottom: 2rem;
            border-bottom: 1px solid #eee;
            padding-bottom: 2rem;
        }

        .checkout-section:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }

        .section-title {
            font-size: 1.3rem;
            color: var(--dark-blue);
            margin-bottom: 1rem;
            font-weight: 600;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--dark-blue);
        }

        .form-control {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary-pink);
        }

        .shipping-options {
            display: grid;
            gap: 1rem;
            margin-top: 1rem;
        }

        .shipping-option {
            border: 2px solid #ddd;
            border-radius: 12px;
            padding: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .shipping-option:hover {
            border-color: var(--primary-pink);
        }

        .shipping-option.selected {
            border-color: var(--primary-pink);
            background: rgba(242, 141, 178, 0.1);
        }

        .shipping-info {
            flex: 1;
        }

        .shipping-name {
            font-weight: 600;
            color: var(--dark-blue);
            margin-bottom: 0.5rem;
        }

        .shipping-time {
            color: #666;
            font-size: 0.9rem;
        }

        .shipping-price {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--primary-pink);
        }

        .calculate-shipping {
            background: var(--primary-blue);
            color: var(--white);
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            margin-top: 1rem;
            transition: all 0.3s ease;
        }

        .calculate-shipping:hover {
            background: var(--dark-blue);
            transform: translateY(-2px);
        }

        .calculate-shipping:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        .order-summary {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: 12px;
            margin-top: 2rem;
        }

        .summary-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.8rem;
            padding-bottom: 0.5rem;
        }

        .summary-row.total {
            border-top: 2px solid var(--primary-pink);
            padding-top: 1rem;
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--dark-blue);
        }

        .payment-methods {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .payment-method {
            border: 2px solid #ddd;
            border-radius: 12px;
            padding: 1rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .payment-method:hover {
            border-color: var(--primary-pink);
        }

        .payment-method.selected {
            border-color: var(--primary-pink);
            background: rgba(242, 141, 178, 0.1);
        }

        .payment-icon {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .btn-primary {
            background: var(--gradient-1);
            color: var(--white);
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(242, 141, 178, 0.3);
        }

        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 2px solid #f3f3f3;
            border-top: 2px solid var(--primary-pink);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .nav-menu {
                display: none;
            }

            .mobile-menu-btn {
                display: block;
            }

            .checkout-buttons {
                grid-template-columns: 1fr;
                gap: 8px;
            }

            .checkout-btn {
                padding: 10px;
                font-size: 0.8rem;
            }

            .hero-buttons {
                flex-direction: column;
                gap: 1rem;
                align-items: center;
            }

            .btn-checkout-hero {
                padding: 12px 20px;
                font-size: 0.9rem;
            }

            .checkout-container {
                width: 95%;
                margin: 1rem;
            }

            .checkout-content {
                padding: 1rem;
            }

            .floating-checkout-btn {
                bottom: 15px;
                right: 15px;
                padding: 12px 16px;
                font-size: 0.9rem;
                min-width: 150px;
            }

            .checkout-text {
                display: none;
            }

            .floating-checkout-btn {
                min-width: auto;
                border-radius: 50%;
                width: 60px;
                height: 60px;
                padding: 0;
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            .payment-methods {
                grid-template-columns: 1fr;
            }

            .header-content {
                padding: 0 15px;
            }

            .logo {
                font-size: 1.4rem;
            }

            .categories h2 {
                font-size: 2rem;
                padding: 0 15px;
            }

            .category-filters {
                flex-direction: column;
                gap: 0.8rem;
                align-items: center;
                padding: 0 15px;
            }

            .category-btn {
                width: 100%;
                max-width: 280px;
                text-align: center;
                padding: 12px 20px;
            }

            .products-grid {
                grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
                gap: 1.5rem;
            }

            .banner {
                margin: 1rem 15px;
            }

            .banner-placeholder,
            .banner img {
                height: 200px;
            }

            .categories h2 {
                font-size: 2rem;
            }

            .category-filters {
                padding: 0 15px;
            }

            .products-container {
                padding: 0 15px;
            }

            .products-grid {
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                gap: 1.5rem;
            }

            .cart-sidebar {
                width: 100vw;
                right: -100vw;
            }

            .modal-content {
                margin: 10px;
            }

            .modal-body {
                padding: 1rem;
            }

            .modal-product-title {
                font-size: 1.5rem;
            }

            .modal-product-price {
                font-size: 2rem;
            }

            .modal-actions {
                flex-direction: column;
            }
        }

        @media (max-width: 480px) {
            .logo {
                font-size: 1.4rem;
            }

            .products-grid {
                grid-template-columns: 1fr;
            }

            .category-filters {
                flex-direction: column;
                align-items: center;
            }

            .quantity-selector {
                flex-direction: column;
                align-items: flex-start;
                gap: 0.5rem;
            }

            .checkout-buttons {
                grid-template-columns: 1fr;
                gap: 8px;
            }

            .checkout-btn {
                padding: 10px;
                font-size: 0.85rem;
            }

            .floating-checkout-btn {
                bottom: 10px;
                right: 10px;
                width: 50px;
                height: 50px;
                padding: 0;
                font-size: 1.2rem;
            }

            .cart-badge {
                top: -5px;
                right: -5px;
                width: 20px;
                height: 20px;
                font-size: 0.7rem;
            }
        }
    </style>
</head>

<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <a href="index.html" class="logo" id="siteLogo">
                Socializa<span style="color: var(--primary-pink);">Pet</span>
            </a>
            <nav>
                <ul class="nav-menu">
                    <li><a href="index.html">üè† Home</a></li>
                    <li><a href="#sobre">üíù Sobre N√≥s</a></li>
                    <li><a href="loja.html">üõçÔ∏è Loja</a></li>
                    <li><a href="blog.html">üìù Blog</a></li>
                    <li><a href="#galeria">üì∏ Galeria</a></li>
                    <li><a href="#contato">üìû Contato</a></li>
                </ul>
            </nav>
            <button class="mobile-menu-btn">‚ò∞</button>
            <button class="cart-icon" onclick="toggleCart()">
                üõí
                <span class="cart-count" id="cartCount">0</span>
            </button>
        </div>
    </header>

    <!-- Banner -->
    <div class="banner" id="shopBanner">
        <!-- Banner ser√° carregado dinamicamente pelo painel admin -->
    </div>

    <!-- Categories -->
    <section class="categories">
        <h2>üõçÔ∏è Nossa Loja <span style="color: var(--primary-pink);">Pet</span></h2>
        <div class="category-filters">
            <button class="category-btn active" onclick="filterProducts('all')">üìã Todos</button>
            <button class="category-btn" onclick="filterProducts('Alimenta√ß√£o')">üçΩÔ∏è Alimenta√ß√£o</button>
            <button class="category-btn" onclick="filterProducts('Brinquedos')">üéæ Brinquedos</button>
            <button class="category-btn" onclick="filterProducts('Cuidados')">‚ú® Cuidados</button>
            <button class="category-btn" onclick="filterProducts('Acess√≥rios')">üëë Acess√≥rios</button>
            <button class="category-btn" onclick="filterProducts('Camas e Casinhas')">üè† Camas & Casinhas</button>
            <button class="category-btn special" onclick="filterProducts('Especiais')">üíù Produtos Especiais</button>
        </div>
    </section>

    <!-- Floating Checkout Button -->
    <button class="floating-checkout-btn" id="floatingCheckoutBtn" onclick="toggleCart()" style="display: none;">
        <span class="checkout-icon">üõçÔ∏è</span>
        <span class="checkout-text">Ver Carrinho</span>
        <span class="cart-badge" id="floatingCartCount">0</span>
    </button>

    <!-- Products -->
    <div class="products-container">
        <div class="products-grid" id="productsGrid">
            <!-- Products will be loaded here by JavaScript -->
        </div>
    </div>

    <!-- Product Modal -->
    <div class="modal" id="productModal">
        <div class="modal-content">
            <div class="modal-header">
                <button class="close-modal" onclick="closeModal()">&times;</button>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- Product details will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Cart Sidebar -->
    <div class="cart-sidebar" id="cartSidebar">
        <div class="cart-header">
            <h3>üõí Seu Carrinho</h3>
            <button class="close-cart" onclick="toggleCart()">&times;</button>
        </div>
        <div class="cart-items" id="cartItems">
            <div class="empty-cart">
                <div class="empty-cart-icon">üõí</div>
                <p>Seu carrinho est√° vazio</p>
                <p>Adicione produtos para continuar!</p>
            </div>
        </div>
        <div class="cart-footer" id="cartFooter" style="display: none;">
            <div class="cart-total">
                <div class="cart-total-label">Total:</div>
                <div class="cart-total-price" id="cartTotalPrice">R$ 0,00</div>
            </div>
            <div class="checkout-buttons">
                <button class="checkout-btn whatsapp-btn" onclick="checkoutWhatsApp()">
                    üì± Comprar via WhatsApp
                </button>
                <button class="checkout-btn shopee-btn" onclick="redirectToShopee()">
                    üõçÔ∏è Comprar na Shopee
                </button>
            </div>
        </div>
    </div>

    <!-- Checkout Modal -->
    <div class="checkout-modal" id="checkoutModal">
        <div class="checkout-container">
            <div class="checkout-header">
                <button class="checkout-close" onclick="closeCheckout()">&times;</button>
                <h2>üõí Finalizar Pedido</h2>
                <p>Complete seus dados para finalizar a compra</p>
            </div>
            <div class="checkout-content">
                <!-- Dados Pessoais -->
                <div class="checkout-section">
                    <h3 class="section-title">üìã Dados Pessoais</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="customerName">Nome Completo *</label>
                            <input type="text" id="customerName" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="customerEmail">E-mail *</label>
                            <input type="email" id="customerEmail" class="form-control" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="customerPhone">Telefone/WhatsApp *</label>
                            <input type="tel" id="customerPhone" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="customerCPF">CPF *</label>
                            <input type="text" id="customerCPF" class="form-control" required>
                        </div>
                    </div>
                </div>

                <!-- Endere√ßo de Entrega -->
                <div class="checkout-section">
                    <h3 class="section-title">üìç Endere√ßo de Entrega</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="customerCEP">CEP *</label>
                            <input type="text" id="customerCEP" class="form-control" onblur="searchCEP()" required>
                        </div>
                        <div class="form-group">
                            <label for="customerCity">Cidade *</label>
                            <input type="text" id="customerCity" class="form-control" readonly>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="customerState">Estado *</label>
                            <input type="text" id="customerState" class="form-control" readonly>
                        </div>
                        <div class="form-group">
                            <label for="customerNeighborhood">Bairro *</label>
                            <input type="text" id="customerNeighborhood" class="form-control" readonly>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="customerAddress">Endere√ßo *</label>
                        <input type="text" id="customerAddress" class="form-control" readonly>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="customerNumber">N√∫mero *</label>
                            <input type="text" id="customerNumber" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="customerComplement">Complemento</label>
                            <input type="text" id="customerComplement" class="form-control">
                        </div>
                    </div>

                    <button class="calculate-shipping" onclick="calculateShipping()">
                        üöö Calcular Frete
                    </button>

                    <div id="shippingOptions" class="shipping-options" style="display: none;">
                        <!-- Op√ß√µes de frete aparecer√£o aqui -->
                    </div>
                </div>

                <!-- Resumo do Pedido -->
                <div class="checkout-section">
                    <h3 class="section-title">üì¶ Resumo do Pedido</h3>
                    <div id="orderItems">
                        <!-- Itens do carrinho aparecer√£o aqui -->
                    </div>
                    <div class="order-summary">
                        <div class="summary-row">
                            <span>Subtotal:</span>
                            <span id="orderSubtotal">R$ 0,00</span>
                        </div>
                        <div class="summary-row">
                            <span>Frete:</span>
                            <span id="orderShipping">A calcular</span>
                        </div>
                        <div class="summary-row total">
                            <span>Total:</span>
                            <span id="orderTotal">R$ 0,00</span>
                        </div>
                    </div>
                </div>

                <!-- Forma de Pagamento -->
                <div class="checkout-section">
                    <h3 class="section-title">üí≥ Forma de Pagamento</h3>
                    <div class="payment-methods">
                        <div class="payment-method" onclick="selectPayment('mercadopago')">
                            <div class="payment-icon">üí≥</div>
                            <div>Mercado Pago</div>
                            <div style="font-size: 0.8rem; color: #666;">Cart√£o, PIX, Boleto</div>
                        </div>
                        <div class="payment-method" onclick="selectPayment('pix')">
                            <div class="payment-icon">üì±</div>
                            <div>PIX</div>
                            <div style="font-size: 0.8rem; color: #666;">Pagamento instant√¢neo</div>
                        </div>
                    </div>
                </div>

                <!-- Finalizar Pedido -->
                <button class="btn-primary" onclick="finalizeOrder()">
                    üõí Finalizar Pedido
                </button>
            </div>
        </div>
    </div>

    <!-- Checkout Modal -->
    <div class="checkout-modal" id="checkoutModal">
        <div class="checkout-container">
            <div class="checkout-header">
                <button class="checkout-close" onclick="closeCheckout()">&times;</button>
                <h2>üõí Finalizar Pedido</h2>
                <p>Complete seus dados para finalizar a compra</p>
            </div>
            <div class="checkout-content">
                <!-- Dados Pessoais -->
                <div class="checkout-section">
                    <h3 class="section-title">üìã Dados Pessoais</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="customerName">Nome Completo *</label>
                            <input type="text" id="customerName" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="customerEmail">E-mail *</label>
                            <input type="email" id="customerEmail" class="form-control" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="customerPhone">Telefone/WhatsApp *</label>
                            <input type="tel" id="customerPhone" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="customerCPF">CPF *</label>
                            <input type="text" id="customerCPF" class="form-control" required>
                        </div>
                    </div>
                </div>

                <!-- Endere√ßo de Entrega -->
                <div class="checkout-section">
                    <h3 class="section-title">üìç Endere√ßo de Entrega</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="customerCEP">CEP *</label>
                            <input type="text" id="customerCEP" class="form-control" onblur="searchCEP()" required>
                        </div>
                        <div class="form-group">
                            <label for="customerCity">Cidade *</label>
                            <input type="text" id="customerCity" class="form-control" readonly>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="customerState">Estado *</label>
                            <input type="text" id="customerState" class="form-control" readonly>
                        </div>
                        <div class="form-group">
                            <label for="customerNeighborhood">Bairro *</label>
                            <input type="text" id="customerNeighborhood" class="form-control" readonly>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="customerAddress">Endere√ßo *</label>
                        <input type="text" id="customerAddress" class="form-control" readonly>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="customerNumber">N√∫mero *</label>
                            <input type="text" id="customerNumber" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="customerComplement">Complemento</label>
                            <input type="text" id="customerComplement" class="form-control">
                        </div>
                    </div>

                    <button class="calculate-shipping" onclick="calculateShipping()">
                        üöö Calcular Frete
                    </button>

                    <div id="shippingOptions" class="shipping-options" style="display: none;">
                        <!-- Op√ß√µes de frete aparecer√£o aqui -->
                    </div>
                </div>

                <!-- Resumo do Pedido -->
                <div class="checkout-section">
                    <h3 class="section-title">üì¶ Resumo do Pedido</h3>
                    <div id="orderItems">
                        <!-- Itens do carrinho aparecer√£o aqui -->
                    </div>
                    <div class="order-summary">
                        <div class="summary-row">
                            <span>Subtotal:</span>
                            <span id="orderSubtotal">R$ 0,00</span>
                        </div>
                        <div class="summary-row">
                            <span>Frete:</span>
                            <span id="orderShipping">A calcular</span>
                        </div>
                        <div class="summary-row total">
                            <span>Total:</span>
                            <span id="orderTotal">R$ 0,00</span>
                        </div>
                    </div>
                </div>

                <!-- Forma de Pagamento -->
                <div class="checkout-section">
                    <h3 class="section-title">üí≥ Forma de Pagamento</h3>
                    <div class="payment-methods">
                        <div class="payment-method" onclick="selectPayment('mercadopago')">
                            <div class="payment-icon">üí≥</div>
                            <div><strong>Mercado Pago</strong></div>
                            <div style="font-size: 0.8rem; color: #666;">Cart√£o, PIX, Boleto</div>
                        </div>
                        <div class="payment-method" onclick="selectPayment('pix')">
                            <div class="payment-icon">üì±</div>
                            <div><strong>PIX</strong></div>
                            <div style="font-size: 0.8rem; color: #666;">Pagamento instant√¢neo</div>
                        </div>
                    </div>
                </div>

                <!-- Finalizar Pedido -->
                <button class="btn-primary" onclick="finalizeOrder()">
                    üõí Finalizar Pedido
                </button>
            </div>
        </div>
    </div>

    <script>
        // =============== E-COMMERCE CONFIGURATION ===============
        const ECOMMERCE_CONFIG = {
            // Melhor Envios API Configuration
            melhorEnvios: {
                apiUrl: 'https://www.melhorenvio.com.br/api/v2/me',
                token: 'SEU_TOKEN_MELHOR_ENVIOS_AQUI', // Substitua pelo seu token
                sandbox: true, // true para teste, false para produ√ß√£o
                companies: [1, 2, 3, 17] // Correios, Jadlog, Loggi, Azul Cargo
            },

            // Mercado Pago Configuration
            mercadoPago: {
                publicKey: 'SEU_PUBLIC_KEY_MERCADO_PAGO_AQUI', // Substitua pela sua public key
                accessToken: 'SEU_ACCESS_TOKEN_AQUI', // Para uso no backend
                sandbox: true // true para teste, false para produ√ß√£o
            },

            // Store Configuration
            store: {
                name: 'SocializaPet',
                cnpj: '00.000.000/0001-00', // Substitua pelo CNPJ da loja
                phone: '(11) 99999-9999',
                email: 'contato@socializapet.com',
                cepOrigem: '01310-100' // CEP de origem para c√°lculo de frete
            }
        };

        // Global Variables for E-commerce
        let selectedShipping = null;
        let selectedPayment = null;
        let orderData = {};

        // Sample products data
        const products = [
            // Alimenta√ß√£o
            {
                id: 1,
                title: "Ra√ß√£o Premium Super Premium",
                category: "Alimenta√ß√£o",
                price: 89.90,
                image: "https://picsum.photos/300/200?random=1",
                description: "Ra√ß√£o super premium para c√£es adultos com ingredientes naturais",
                specs: [
                    "Ingredientes naturais selecionados",
                    "Rico em prote√≠nas e vitaminas",
                    "Sem corantes artificiais",
                    "Embalagem 15kg",
                    "Validade: 18 meses"
                ]
            },
            {
                id: 2,
                title: "Sach√™ Gourmet Gatos",
                category: "Alimenta√ß√£o",
                price: 12.99,
                image: "https://picsum.photos/300/200?random=2",
                description: "Sach√™ gourmet sabor salm√£o para gatos exigentes",
                specs: [
                    "Sabor salm√£o grelhado",
                    "Textura cremosa",
                    "Rico em √¥mega 3",
                    "Pacote com 12 unidades",
                    "Sem conservantes"
                ]
            },
            // Brinquedos
            {
                id: 3,
                title: "Bola Interativa LED",
                category: "Brinquedos",
                price: 45.90,
                image: "https://picsum.photos/300/200?random=3",
                description: "Bola com LED que acende ao movimento, perfeita para divers√£o",
                specs: [
                    "LED colorido autom√°tico",
                    "Material resistente",
                    "√Ä prova d'√°gua",
                    "Bateria recarreg√°vel",
                    "Tamanho m√©dio (8cm)"
                ]
            },
            {
                id: 4,
                title: "Corda de Algod√£o Natural",
                category: "Brinquedos",
                price: 19.90,
                image: "https://picsum.photos/300/200?random=4",
                description: "Corda 100% algod√£o natural para brincadeiras seguras",
                specs: [
                    "100% algod√£o natural",
                    "Ajuda na higiene dental",
                    "Resistente a mordidas",
                    "Comprimento: 30cm",
                    "Lav√°vel"
                ]
            },
            // Cuidados
            {
                id: 5,
                title: "Shampoo Hipoalerg√™nico",
                category: "Cuidados",
                price: 32.90,
                image: "https://picsum.photos/300/200?random=5",
                description: "Shampoo hipoalerg√™nico para peles sens√≠veis",
                specs: [
                    "F√≥rmula hipoalerg√™nica",
                    "PH balanceado",
                    "Ingredientes naturais",
                    "Frasco 500ml",
                    "Dermatologicamente testado"
                ]
            },
            {
                id: 6,
                title: "Kit Escova e Pente",
                category: "Cuidados",
                price: 28.90,
                image: "https://picsum.photos/300/200?random=6",
                description: "Kit completo para escova√ß√£o e cuidados do pelo",
                specs: [
                    "Escova de cerdas naturais",
                    "Pente de metal inox",
                    "Cabo ergon√¥mico",
                    "Para todos os tipos de pelo",
                    "F√°cil limpeza"
                ]
            },
            // Acess√≥rios
            {
                id: 7,
                title: "Coleira LED Recarreg√°vel",
                category: "Acess√≥rios",
                price: 67.90,
                image: "https://picsum.photos/300/200?random=7",
                description: "Coleira com LED para passeios noturnos seguros",
                specs: [
                    "LED de alta luminosidade",
                    "Recarreg√°vel via USB",
                    "3 modos de ilumina√ß√£o",
                    "Resistente √† √°gua",
                    "Tamanhos P, M, G"
                ]
            },
            {
                id: 8,
                title: "Comedouro Elevado Inox",
                category: "Acess√≥rios",
                price: 89.90,
                image: "https://picsum.photos/300/200?random=8",
                description: "Comedouro elevado em a√ßo inox com altura regul√°vel",
                specs: [
                    "A√ßo inoxid√°vel premium",
                    "Altura regul√°vel",
                    "Base antiderrapante",
                    "F√°cil limpeza",
                    "Capacidade 1,5L"
                ]
            },
            // Camas e Casinhas
            {
                id: 9,
                title: "Cama Ortop√©dica Memory Foam",
                category: "Camas e Casinhas",
                price: 189.90,
                image: "https://picsum.photos/300/200?random=9",
                description: "Cama ortop√©dica com memory foam para m√°ximo conforto",
                specs: [
                    "Memory foam de alta densidade",
                    "Capa remov√≠vel e lav√°vel",
                    "Base antiderrapante",
                    "Tamanho grande (80x60cm)",
                    "Ideal para c√£es idosos"
                ]
            },
            {
                id: 10,
                title: "Casinha T√©rmica Premium",
                category: "Camas e Casinhas",
                price: 299.90,
                image: "https://picsum.photos/300/200?random=10",
                description: "Casinha t√©rmica com isolamento para todas as esta√ß√µes",
                specs: [
                    "Isolamento t√©rmico",
                    "Material imperme√°vel",
                    "Ventila√ß√£o natural",
                    "F√°cil montagem",
                    "Tamanho m√©dio/grande"
                ]
            },
            // Produtos Especiais
            {
                id: 11,
                title: "Kit Cuidados Especiais",
                category: "Especiais",
                price: 149.90,
                image: "https://picsum.photos/300/200?random=11",
                description: "Kit especial com parte da renda destinada a ONGs de prote√ß√£o animal",
                specs: [
                    "Shampoo + Condicionador Premium",
                    "Escova profissional",
                    "Toalha de microfibra",
                    "50% da renda para ONGs",
                    "Certificado de doa√ß√£o incluso"
                ],
                special: true
            },
            {
                id: 12,
                title: "Cesta Solid√°ria Pet",
                category: "Especiais",
                price: 199.90,
                image: "https://picsum.photos/300/200?random=12",
                description: "Cesta com produtos essenciais - ajuda animais carentes",
                specs: [
                    "Ra√ß√£o premium 5kg",
                    "Brinquedos educativos",
                    "Produtos de higiene",
                    "100% da renda para resgate",
                    "Relat√≥rio de impacto mensal"
                ],
                special: true
            }
        ];

        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        let currentCategory = 'all';

        // Apply admin favicon
        function applySiteFavicon() {
            const settings = JSON.parse(localStorage.getItem('socializaPetSettings') || '{}');
            if (settings.faviconUrl) {
                // Remove existing admin favicons
                const existingFavicons = document.querySelectorAll('link[data-admin-favicon="true"]');
                existingFavicons.forEach(link => link.remove());

                // Add new favicon links
                const head = document.head;
                const sizes = ['16x16', '32x32', '48x48', '64x64'];

                sizes.forEach(size => {
                    const favicon = document.createElement('link');
                    favicon.rel = 'icon';
                    favicon.type = 'image/png';
                    favicon.sizes = size;
                    favicon.href = settings.faviconUrl;
                    favicon.setAttribute('data-admin-favicon', 'true');
                    head.appendChild(favicon);
                });

                // Apple touch icon
                const appleTouchIcon = document.createElement('link');
                appleTouchIcon.rel = 'apple-touch-icon';
                appleTouchIcon.href = settings.faviconUrl;
                appleTouchIcon.setAttribute('data-admin-favicon', 'true');
                head.appendChild(appleTouchIcon);

                // Shortcut icon
                const shortcutIcon = document.createElement('link');
                shortcutIcon.rel = 'shortcut icon';
                shortcutIcon.type = 'image/x-icon';
                shortcutIcon.href = settings.faviconUrl;
                shortcutIcon.setAttribute('data-admin-favicon', 'true');
                head.appendChild(shortcutIcon);
            }
        }

        // =============== CHECKOUT FUNCTIONS ===============

        // Open checkout modal
        function openCheckout() {
            if (cart.length === 0) {
                alert('üõí Seu carrinho est√° vazio! Adicione produtos para continuar.');
                return;
            }

            document.getElementById('checkoutModal').classList.add('active');
            document.body.style.overflow = 'hidden';
            updateOrderSummary();
            displayOrderItems();
        }

        // Close checkout modal
        function closeCheckout() {
            document.getElementById('checkoutModal').classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        // Update order summary
        function updateOrderSummary() {
            const subtotal = cart.reduce((total, item) => total + (item.price * item.quantity), 0);
            document.getElementById('orderSubtotal').textContent = `R$ ${subtotal.toFixed(2).replace('.', ',')}`;

            const shippingCost = selectedShipping ? selectedShipping.price : 0;
            const total = subtotal + shippingCost;

            document.getElementById('orderShipping').textContent = selectedShipping ?
                `R$ ${shippingCost.toFixed(2).replace('.', ',')}` : 'A calcular';
            document.getElementById('orderTotal').textContent = `R$ ${total.toFixed(2).replace('.', ',')}`;
        }

        // Display order items
        function displayOrderItems() {
            const container = document.getElementById('orderItems');
            container.innerHTML = cart.map(item => `
                <div style="display: flex; justify-content: space-between; align-items: center; padding: 10px 0; border-bottom: 1px solid #eee;">
                    <div>
                        <strong>${item.name}</strong><br>
                        <small>Quantidade: ${item.quantity}</small>
                    </div>
                    <div style="font-weight: 600; color: var(--primary-pink);">
                        R$ ${(item.price * item.quantity).toFixed(2).replace('.', ',')}
                    </div>
                </div>
            `).join('');
        }

        // Search CEP using ViaCEP API
        async function searchCEP() {
            const cep = document.getElementById('customerCEP').value.replace(/\D/g, '');

            if (cep.length !== 8) {
                return;
            }

            try {
                const response = await fetch(`https://viacep.com.br/ws/${cep}/json/`);
                const data = await response.json();

                if (data.erro) {
                    alert('‚ùå CEP n√£o encontrado!');
                    return;
                }

                document.getElementById('customerCity').value = data.localidade;
                document.getElementById('customerState').value = data.uf;
                document.getElementById('customerNeighborhood').value = data.bairro;
                document.getElementById('customerAddress').value = data.logradouro;

            } catch (error) {
                console.error('Erro ao buscar CEP:', error);
                alert('‚ùå Erro ao buscar CEP. Tente novamente.');
            }
        }

        // Calculate shipping using Melhor Envios API
        async function calculateShipping() {
            const cep = document.getElementById('customerCEP').value.replace(/\D/g, '');

            if (cep.length !== 8) {
                alert('‚ùå Informe um CEP v√°lido!');
                return;
            }

            const button = document.querySelector('.calculate-shipping');
            button.innerHTML = '<div class="loading"></div> Calculando...';
            button.disabled = true;

            try {
                // Simular c√°lculo de frete (em produ√ß√£o, usar API real do Melhor Envios)
                const shippingOptions = await simulateShippingCalculation(cep);
                displayShippingOptions(shippingOptions);

            } catch (error) {
                console.error('Erro ao calcular frete:', error);
                alert('‚ùå Erro ao calcular frete. Tente novamente.');
            } finally {
                button.innerHTML = 'üöö Calcular Frete';
                button.disabled = false;
            }
        }

        // Simulate shipping calculation (replace with real API call)
        async function simulateShippingCalculation(cep) {
            // Simular delay da API
            await new Promise(resolve => setTimeout(resolve, 2000));

            // Simular diferentes op√ß√µes de frete baseadas no CEP
            const basePrice = Math.random() * 20 + 10; // R$ 10-30

            return [
                {
                    id: 'correios-pac',
                    name: 'üì¶ Correios PAC',
                    company: 'Correios',
                    price: basePrice,
                    days: '5-7 dias √∫teis',
                    logo: 'üì¶'
                },
                {
                    id: 'correios-sedex',
                    name: 'üöÄ Correios SEDEX',
                    company: 'Correios',
                    price: basePrice * 1.8,
                    days: '2-3 dias √∫teis',
                    logo: 'üöÄ'
                },
                {
                    id: 'jadlog',
                    name: 'üìÆ Jadlog Expresso',
                    company: 'Jadlog',
                    price: basePrice * 1.3,
                    days: '3-5 dias √∫teis',
                    logo: 'üìÆ'
                }
            ];
        }

        // Display shipping options
        function displayShippingOptions(options) {
            const container = document.getElementById('shippingOptions');
            container.style.display = 'grid';

            container.innerHTML = options.map(option => `
                <div class="shipping-option" onclick="selectShipping('${option.id}', ${option.price})">
                    <div class="shipping-info">
                        <div class="shipping-name">${option.logo} ${option.name}</div>
                        <div class="shipping-time">${option.days}</div>
                    </div>
                    <div class="shipping-price">R$ ${option.price.toFixed(2).replace('.', ',')}</div>
                </div>
            `).join('');
        }

        // Select shipping option
        function selectShipping(shippingId, price) {
            document.querySelectorAll('.shipping-option').forEach(el => el.classList.remove('selected'));
            event.currentTarget.classList.add('selected');

            selectedShipping = { id: shippingId, price: price };
            updateOrderSummary();
        }

        // Select payment method
        function selectPayment(method) {
            document.querySelectorAll('.payment-method').forEach(el => el.classList.remove('selected'));
            event.currentTarget.classList.add('selected');
            selectedPayment = method;
        }

        // Finalize order
        async function finalizeOrder() {
            // Validate form
            if (!validateCheckoutForm()) {
                return;
            }

            if (!selectedShipping) {
                alert('‚ùå Selecione uma op√ß√£o de frete!');
                return;
            }

            if (!selectedPayment) {
                alert('‚ùå Selecione uma forma de pagamento!');
                return;
            }

            const button = document.querySelector('.btn-primary');
            button.innerHTML = '<div class="loading"></div> Processando...';
            button.disabled = true;

            try {
                // Prepare order data
                orderData = {
                    customer: {
                        name: document.getElementById('customerName').value,
                        email: document.getElementById('customerEmail').value,
                        phone: document.getElementById('customerPhone').value,
                        cpf: document.getElementById('customerCPF').value
                    },
                    address: {
                        cep: document.getElementById('customerCEP').value,
                        city: document.getElementById('customerCity').value,
                        state: document.getElementById('customerState').value,
                        neighborhood: document.getElementById('customerNeighborhood').value,
                        address: document.getElementById('customerAddress').value,
                        number: document.getElementById('customerNumber').value,
                        complement: document.getElementById('customerComplement').value
                    },
                    items: cart,
                    shipping: selectedShipping,
                    payment: selectedPayment,
                    total: cart.reduce((total, item) => total + (item.price * item.quantity), 0) + selectedShipping.price
                };

                // Process payment based on selected method
                if (selectedPayment === 'mercadopago') {
                    await processMercadoPagoPayment();
                } else if (selectedPayment === 'pix') {
                    await processPixPayment();
                }

            } catch (error) {
                console.error('Erro ao finalizar pedido:', error);
                alert('‚ùå Erro ao processar pedido. Tente novamente.');
            } finally {
                button.innerHTML = 'üõí Finalizar Pedido';
                button.disabled = false;
            }
        }

        // Validate checkout form
        function validateCheckoutForm() {
            const requiredFields = ['customerName', 'customerEmail', 'customerPhone', 'customerCPF', 'customerCEP', 'customerNumber'];

            for (let fieldId of requiredFields) {
                const field = document.getElementById(fieldId);
                if (!field.value.trim()) {
                    field.focus();
                    alert(`‚ùå Preencha o campo: ${field.previousElementSibling.textContent}`);
                    return false;
                }
            }

            return true;
        }

        // Process Mercado Pago payment
        async function processMercadoPagoPayment() {
            // Simular integra√ß√£o com Mercado Pago
            await new Promise(resolve => setTimeout(resolve, 3000));

            // Em produ√ß√£o, aqui voc√™ faria a chamada real para a API do Mercado Pago
            const paymentUrl = generateMercadoPagoLink();

            showOrderSuccess(paymentUrl);
        }

        // Process PIX payment
        async function processPixPayment() {
            // Simular gera√ß√£o de PIX
            await new Promise(resolve => setTimeout(resolve, 2000));

            const pixCode = generatePixCode();
            showPixPayment(pixCode);
        }

        // Generate Mercado Pago payment link
        function generateMercadoPagoLink() {
            const baseUrl = ECOMMERCE_CONFIG.mercadoPago.sandbox ?
                'https://sandbox.mercadopago.com.br' : 'https://www.mercadopago.com.br';

            // Em produ√ß√£o, usar a API real para gerar o link
            return `${baseUrl}/checkout/v1/redirect?pref_id=PREFERENCE_ID`;
        }

        // Generate PIX code
        function generatePixCode() {
            // Em produ√ß√£o, gerar c√≥digo PIX real
            return '00020126580014br.gov.bcb.pix0136' + Math.random().toString(36).substr(2, 32) + '5204000053039865802BR5925' + ECOMMERCE_CONFIG.store.name.padEnd(25) + '6009SAO PAULO62070503***6304' + Math.random().toString(36).substr(2, 4).toUpperCase();
        }

        // Show order success
        function showOrderSuccess(paymentUrl) {
            closeCheckout();

            const orderId = 'SP' + Date.now();

            alert(`‚úÖ Pedido realizado com sucesso!\n\nPedido: ${orderId}\nTotal: R$ ${orderData.total.toFixed(2).replace('.', ',')}\n\nVoc√™ ser√° redirecionado para o pagamento.`);

            // Limpar carrinho
            cart = [];
            updateCartCount();
            updateCartItems();

            // Redirecionar para pagamento (simular)
            // window.open(paymentUrl, '_blank');
        }

        // Show PIX payment
        function showPixPayment(pixCode) {
            closeCheckout();

            const orderId = 'SP' + Date.now();

            alert(`‚úÖ Pedido realizado com sucesso!\n\nPedido: ${orderId}\nTotal: R$ ${orderData.total.toFixed(2).replace('.', ',')}\n\nC√≥digo PIX copiado para a √°rea de transfer√™ncia!`);

            // Copiar c√≥digo PIX para √°rea de transfer√™ncia
            navigator.clipboard.writeText(pixCode).then(() => {
                console.log('C√≥digo PIX copiado:', pixCode);
            });

            // Limpar carrinho
            cart = [];
            updateCartCount();
            updateCartItems();
        }

        // =============== CHECKOUT FUNCTIONS ===============

        // Open checkout modal
        function openCheckout() {
            if (cart.length === 0) {
                alert('üõí Seu carrinho est√° vazio! Adicione produtos para continuar.');
                return;
            }

            document.getElementById('checkoutModal').classList.add('active');
            document.body.style.overflow = 'hidden';
            updateOrderSummary();
            displayOrderItems();
        }

        // Close checkout modal
        function closeCheckout() {
            document.getElementById('checkoutModal').classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        // Update order summary
        function updateOrderSummary() {
            const subtotal = cart.reduce((total, item) => total + (item.price * item.quantity), 0);
            document.getElementById('orderSubtotal').textContent = `R$ ${subtotal.toFixed(2).replace('.', ',')}`;

            const shippingCost = selectedShipping ? selectedShipping.price : 0;
            const total = subtotal + shippingCost;

            document.getElementById('orderShipping').textContent = selectedShipping ?
                `R$ ${shippingCost.toFixed(2).replace('.', ',')}` : 'A calcular';
            document.getElementById('orderTotal').textContent = `R$ ${total.toFixed(2).replace('.', ',')}`;
        }

        // Display order items
        function displayOrderItems() {
            const container = document.getElementById('orderItems');
            container.innerHTML = cart.map(item => `
                <div style="display: flex; justify-content: space-between; align-items: center; padding: 10px 0; border-bottom: 1px solid #eee;">
                    <div>
                        <strong>${item.title}</strong><br>
                        <small>Quantidade: ${item.quantity}</small>
                    </div>
                    <div style="font-weight: 600; color: var(--primary-pink);">
                        R$ ${(item.price * item.quantity).toFixed(2).replace('.', ',')}
                    </div>
                </div>
            `).join('');
        }

        // Search CEP using ViaCEP API
        async function searchCEP() {
            const cep = document.getElementById('customerCEP').value.replace(/\\D/g, '');

            if (cep.length !== 8) {
                return;
            }

            try {
                const response = await fetch(`https://viacep.com.br/ws/${cep}/json/`);
                const data = await response.json();

                if (data.erro) {
                    alert('‚ùå CEP n√£o encontrado!');
                    return;
                }

                document.getElementById('customerCity').value = data.localidade;
                document.getElementById('customerState').value = data.uf;
                document.getElementById('customerNeighborhood').value = data.bairro;
                document.getElementById('customerAddress').value = data.logradouro;

            } catch (error) {
                console.error('Erro ao buscar CEP:', error);
                alert('‚ùå Erro ao buscar CEP. Tente novamente.');
            }
        }

        // Calculate shipping using Melhor Envios API
        async function calculateShipping() {
            const cep = document.getElementById('customerCEP').value.replace(/\\D/g, '');

            if (cep.length !== 8) {
                alert('‚ùå Informe um CEP v√°lido!');
                return;
            }

            const button = document.querySelector('.calculate-shipping');
            button.innerHTML = '<div class="loading"></div> Calculando...';
            button.disabled = true;

            try {
                // Simular c√°lculo de frete (em produ√ß√£o, usar API real do Melhor Envios)
                const shippingOptions = await simulateShippingCalculation(cep);
                displayShippingOptions(shippingOptions);

            } catch (error) {
                console.error('Erro ao calcular frete:', error);
                alert('‚ùå Erro ao calcular frete. Tente novamente.');
            } finally {
                button.innerHTML = 'üöö Calcular Frete';
                button.disabled = false;
            }
        }

        // Simulate shipping calculation (replace with real API call)
        async function simulateShippingCalculation(cep) {
            // Simular delay da API
            await new Promise(resolve => setTimeout(resolve, 2000));

            // Simular diferentes op√ß√µes de frete baseadas no CEP
            const basePrice = Math.random() * 20 + 10; // R$ 10-30

            return [
                {
                    id: 'correios-pac',
                    name: 'üì¶ Correios PAC',
                    company: 'Correios',
                    price: basePrice,
                    days: '5-7 dias √∫teis',
                    logo: 'üì¶'
                },
                {
                    id: 'correios-sedex',
                    name: 'üöÄ Correios SEDEX',
                    company: 'Correios',
                    price: basePrice * 1.8,
                    days: '2-3 dias √∫teis',
                    logo: 'üöÄ'
                },
                {
                    id: 'jadlog',
                    name: 'üìÆ Jadlog Expresso',
                    company: 'Jadlog',
                    price: basePrice * 1.3,
                    days: '3-5 dias √∫teis',
                    logo: 'üìÆ'
                }
            ];
        }

        // Display shipping options
        function displayShippingOptions(options) {
            const container = document.getElementById('shippingOptions');
            container.style.display = 'grid';

            container.innerHTML = options.map(option => `
                <div class="shipping-option" onclick="selectShipping('${option.id}', ${option.price})">
                    <div class="shipping-info">
                        <div class="shipping-name">${option.logo} ${option.name}</div>
                        <div class="shipping-time">${option.days}</div>
                    </div>
                    <div class="shipping-price">R$ ${option.price.toFixed(2).replace('.', ',')}</div>
                </div>
            `).join('');
        }

        // Select shipping option
        function selectShipping(shippingId, price) {
            document.querySelectorAll('.shipping-option').forEach(el => el.classList.remove('selected'));
            event.currentTarget.classList.add('selected');

            selectedShipping = { id: shippingId, price: price };
            updateOrderSummary();
        }

        // Select payment method
        function selectPayment(method) {
            document.querySelectorAll('.payment-method').forEach(el => el.classList.remove('selected'));
            event.currentTarget.classList.add('selected');
            selectedPayment = method;
        }

        // Finalize order
        async function finalizeOrder() {
            // Validate form
            if (!validateCheckoutForm()) {
                return;
            }

            if (!selectedShipping) {
                alert('‚ùå Selecione uma op√ß√£o de frete!');
                return;
            }

            if (!selectedPayment) {
                alert('‚ùå Selecione uma forma de pagamento!');
                return;
            }

            const button = document.querySelector('.btn-primary');
            button.innerHTML = '<div class="loading"></div> Processando...';
            button.disabled = true;

            try {
                // Prepare order data
                orderData = {
                    customer: {
                        name: document.getElementById('customerName').value,
                        email: document.getElementById('customerEmail').value,
                        phone: document.getElementById('customerPhone').value,
                        cpf: document.getElementById('customerCPF').value
                    },
                    address: {
                        cep: document.getElementById('customerCEP').value,
                        city: document.getElementById('customerCity').value,
                        state: document.getElementById('customerState').value,
                        neighborhood: document.getElementById('customerNeighborhood').value,
                        address: document.getElementById('customerAddress').value,
                        number: document.getElementById('customerNumber').value,
                        complement: document.getElementById('customerComplement').value
                    },
                    items: cart,
                    shipping: selectedShipping,
                    payment: selectedPayment,
                    total: cart.reduce((total, item) => total + (item.price * item.quantity), 0) + selectedShipping.price
                };

                // Process payment based on selected method
                if (selectedPayment === 'mercadopago') {
                    await processMercadoPagoPayment();
                } else if (selectedPayment === 'pix') {
                    await processPixPayment();
                }

            } catch (error) {
                console.error('Erro ao finalizar pedido:', error);
                alert('‚ùå Erro ao processar pedido. Tente novamente.');
            } finally {
                button.innerHTML = 'üõí Finalizar Pedido';
                button.disabled = false;
            }
        }

        // Validate checkout form
        function validateCheckoutForm() {
            const requiredFields = ['customerName', 'customerEmail', 'customerPhone', 'customerCPF', 'customerCEP', 'customerNumber'];

            for (let fieldId of requiredFields) {
                const field = document.getElementById(fieldId);
                if (!field.value.trim()) {
                    field.focus();
                    alert(`‚ùå Preencha o campo: ${field.previousElementSibling.textContent}`);
                    return false;
                }
            }

            return true;
        }

        // Process Mercado Pago payment
        async function processMercadoPagoPayment() {
            // Simular integra√ß√£o com Mercado Pago
            await new Promise(resolve => setTimeout(resolve, 3000));

            // Em produ√ß√£o, aqui voc√™ faria a chamada real para a API do Mercado Pago
            const paymentUrl = generateMercadoPagoLink();

            showOrderSuccess(paymentUrl, 'mercadopago');
        }

        // Process PIX payment
        async function processPixPayment() {
            // Simular gera√ß√£o de PIX
            await new Promise(resolve => setTimeout(resolve, 2000));

            const pixCode = generatePixCode();
            showOrderSuccess(pixCode, 'pix');
        }

        // Generate Mercado Pago payment link
        function generateMercadoPagoLink() {
            const baseUrl = ECOMMERCE_CONFIG.mercadoPago.sandbox ?
                'https://sandbox.mercadopago.com.br' : 'https://www.mercadopago.com.br';

            // Em produ√ß√£o, usar a API real para gerar o link
            return `${baseUrl}/checkout/v1/redirect?pref_id=PREFERENCE_ID_${Date.now()}`;
        }

        // Generate PIX code
        function generatePixCode() {
            // Em produ√ß√£o, gerar c√≥digo PIX real
            return '00020126580014br.gov.bcb.pix0136' + Math.random().toString(36).substr(2, 32) + '5204000053039865802BR5925' + ECOMMERCE_CONFIG.store.name.padEnd(25) + '6009SAO PAULO62070503***6304' + Math.random().toString(36).substr(2, 4).toUpperCase();
        }

        // Show order success
        function showOrderSuccess(paymentInfo, paymentType) {
            closeCheckout();

            const orderId = 'SP' + Date.now();

            // Salvar pedido no localStorage para o painel administrativo
            saveOrderToAdmin(orderId, paymentType);

            if (paymentType === 'mercadopago') {
                alert(`‚úÖ Pedido realizado com sucesso!\\n\\nPedido: ${orderId}\\nTotal: R$ ${orderData.total.toFixed(2).replace('.', ',')}\\n\\nVoc√™ ser√° redirecionado para o Mercado Pago para finalizar o pagamento.`);
                // window.open(paymentInfo, '_blank');
            } else if (paymentType === 'pix') {
                alert(`‚úÖ Pedido realizado com sucesso!\\n\\nPedido: ${orderId}\\nTotal: R$ ${orderData.total.toFixed(2).replace('.', ',')}\\n\\nC√≥digo PIX foi copiado para a √°rea de transfer√™ncia!`);

                // Copiar c√≥digo PIX para √°rea de transfer√™ncia
                navigator.clipboard.writeText(paymentInfo).then(() => {
                    console.log('C√≥digo PIX copiado:', paymentInfo);
                });
            }

            // Limpar carrinho
            cart = [];
            updateCartCount();
            updateCartItems();

            // Reset form
            selectedShipping = null;
            selectedPayment = null;
        }

        // Update cart button to open checkout
        function viewCart() {
            if (cart.length === 0) {
                alert('üõí Seu carrinho est√° vazio!');
                return;
            }
            openCheckout();
        }

        // Checkout via WhatsApp (fun√ß√£o original)
        function checkoutWhatsApp() {
            if (cart.length === 0) {
                alert('üõí Seu carrinho est√° vazio!');
                return;
            }

            let message = 'üõí *Ol√°! Gostaria de fazer um pedido:*\n\n';

            cart.forEach(item => {
                message += `üì¶ *${item.title}*\n`;
                message += `   Quantidade: ${item.quantity}\n`;
                message += `   Pre√ßo unit√°rio: R$ ${item.price.toFixed(2).replace('.', ',')}\n`;
                message += `   Subtotal: R$ ${(item.price * item.quantity).toFixed(2).replace('.', ',')}\n\n`;
            });

            const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            message += `üí∞ *Total: R$ ${total.toFixed(2).replace('.', ',')}*\n\n`;
            message += 'üìç *Preciso calcular o frete para minha regi√£o.*\n\n';
            message += '‚úÖ *Confirma o pedido?*';

            const encodedMessage = encodeURIComponent(message);
            const whatsappNumber = '5511999999999'; // Substitua pelo seu n√∫mero
            const whatsappUrl = `https://wa.me/${whatsappNumber}?text=${encodedMessage}`;

            window.open(whatsappUrl, '_blank');
        }

        // Abrir checkout direto (bot√£o hero)
        function openCheckoutDirect() {
            if (cart.length === 0) {
                alert('üõí Adicione produtos ao carrinho primeiro!');
                return;
            }
            openCheckout();
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function () {
            displayProducts();
            updateCartCount();
            applySiteFavicon();
            loadShopBanner(); // Garantir que o banner seja carregado
        });

        // Display products
        function displayProducts(productsToShow = products) {
            const grid = document.getElementById('productsGrid');
            grid.innerHTML = productsToShow.map(product => `
                <div class="product-card ${product.special ? 'special' : ''}" data-category="${product.category}" onclick="openProductModal(${product.id})">
                    <img src="${product.image}" alt="${product.title}" class="product-image" onerror="this.src='https://picsum.photos/300/200?random=${product.id}'">
                    <div class="product-info">
                        <span class="product-category">${product.category}</span>
                        <h3 class="product-title">${product.title}</h3>
                        <p class="product-description">${product.description}</p>
                        <div class="product-price">R$ ${product.price.toFixed(2).replace('.', ',')}</div>
                        <div class="product-actions">
                            <button class="add-to-cart-btn" onclick="event.stopPropagation(); addToCart(${product.id})">
                                üõí Adicionar ao Carrinho
                            </button>
                            ${product.link ? `
                                <button class="buy-direct-btn" onclick="event.stopPropagation(); buyDirect('${product.link}')">
                                    üõçÔ∏è Comprar Direto
                                </button>
                            ` : ''}
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Filter products
        function filterProducts(category) {
            currentCategory = category;

            // Update active button
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');

            // Filter and display
            if (category === 'all') {
                displayProducts();
            } else {
                const filtered = products.filter(product => product.category === category);
                displayProducts(filtered);
            }
        }

        // Open product modal
        function openProductModal(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;

            const modalBody = document.getElementById('modalBody');
            modalBody.innerHTML = `
                <img src="${product.image}" alt="${product.title}" class="modal-product-image" onerror="this.src='https://picsum.photos/600/300?random=${product.id}'">
                <h2 class="modal-product-title">${product.title}</h2>
                <div class="modal-product-price">R$ ${product.price.toFixed(2).replace('.', ',')}</div>
                
                <div class="product-specs">
                    <h4>üìã Especifica√ß√µes:</h4>
                    <ul>
                        ${product.specs.map(spec => `<li>${spec}</li>`).join('')}
                    </ul>
                </div>
                
                <div class="quantity-selector">
                    <span class="quantity-label">Quantidade:</span>
                    <div class="quantity-controls">
                        <button class="quantity-btn" onclick="changeQuantity(-1)">-</button>
                        <input type="number" id="modalQuantity" class="quantity-input" value="1" min="1" max="10">
                        <button class="quantity-btn" onclick="changeQuantity(1)">+</button>
                    </div>
                </div>
                
                <div class="modal-actions">
                    <button class="btn-primary" onclick="addToCartFromModal(${product.id})">
                        üõí Adicionar ao Carrinho
                    </button>
                    <button class="btn-secondary" onclick="buyNow(${product.id})">
                        üì± Comprar Agora
                    </button>
                </div>
            `;

            document.getElementById('productModal').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        // Close modal
        function closeModal() {
            document.getElementById('productModal').classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        // Change quantity in modal
        function changeQuantity(change) {
            const input = document.getElementById('modalQuantity');
            let newValue = parseInt(input.value) + change;
            if (newValue < 1) newValue = 1;
            if (newValue > 10) newValue = 10;
            input.value = newValue;
        }

        // Add to cart
        function addToCart(productId, quantity = 1) {
            const product = products.find(p => p.id === productId);
            if (!product) return;

            const existingItem = cart.find(item => item.id === productId);

            if (existingItem) {
                existingItem.quantity += quantity;
            } else {
                cart.push({
                    ...product,
                    quantity: quantity
                });
            }

            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartCount();
            updateCartDisplay();

            // Show success feedback
            showToast(`‚úÖ ${product.title} adicionado ao carrinho!`);
        }

        // Add to cart from modal
        function addToCartFromModal(productId) {
            const quantity = parseInt(document.getElementById('modalQuantity').value);
            addToCart(productId, quantity);
            closeModal();
        }

        // Buy now
        function buyNow(productId) {
            const quantity = parseInt(document.getElementById('modalQuantity').value || 1);
            addToCart(productId, quantity);
            closeModal();
            toggleCart();
        }

        // Toggle cart
        function toggleCart() {
            const cart = document.getElementById('cartSidebar');
            cart.classList.toggle('active');
            updateCartDisplay();
        }

        // Update cart count
        function updateCartCount() {
            const count = cart.reduce((total, item) => total + item.quantity, 0);
            document.getElementById('cartCount').textContent = count;

            // Atualizar bot√£o flutuante
            const floatingBtn = document.getElementById('floatingCheckoutBtn');
            const floatingCount = document.getElementById('floatingCartCount');

            if (floatingBtn && floatingCount) {
                floatingCount.textContent = count;
                floatingBtn.style.display = count > 0 ? 'flex' : 'none';
            }
        }

        // Update cart display
        function updateCartDisplay() {
            const cartItems = document.getElementById('cartItems');
            const cartFooter = document.getElementById('cartFooter');

            if (cart.length === 0) {
                cartItems.innerHTML = `
                    <div class="empty-cart">
                        <div class="empty-cart-icon">üõí</div>
                        <p>Seu carrinho est√° vazio</p>
                        <p>Adicione produtos para continuar!</p>
                    </div>
                `;
                cartFooter.style.display = 'none';
                return;
            }

            cartItems.innerHTML = cart.map(item => `
                <div class="cart-item">
                    <img src="${item.image}" alt="${item.title}" class="cart-item-image" onerror="this.src='https://picsum.photos/60/60?random=${item.id}'">
                    <div class="cart-item-info">
                        <div class="cart-item-title">${item.title}</div>
                        <div class="cart-item-price">R$ ${item.price.toFixed(2).replace('.', ',')}</div>
                        <div class="cart-item-quantity">
                            <button class="quantity-btn" onclick="updateCartQuantity(${item.id}, -1)">-</button>
                            <span>${item.quantity}</span>
                            <button class="quantity-btn" onclick="updateCartQuantity(${item.id}, 1)">+</button>
                            <button onclick="removeFromCart(${item.id})" style="margin-left: 10px; background: var(--danger); color: white; border: none; padding: 5px 10px; border-radius: 5px; cursor: pointer;">üóëÔ∏è</button>
                        </div>
                    </div>
                </div>
            `).join('');

            const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            document.getElementById('cartTotalPrice').textContent = `R$ ${total.toFixed(2).replace('.', ',')}`;
            cartFooter.style.display = 'block';
        }

        // Update cart quantity
        function updateCartQuantity(productId, change) {
            const item = cart.find(item => item.id === productId);
            if (!item) return;

            item.quantity += change;

            if (item.quantity <= 0) {
                removeFromCart(productId);
                return;
            }

            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartCount();
            updateCartDisplay();
        }

        // Remove from cart
        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartCount();
            updateCartDisplay();
        }

        // Checkout via WhatsApp
        function checkoutWhatsApp() {
            if (cart.length === 0) return;

            const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);

            let message = "üõçÔ∏è *PEDIDO SOCIALIZAPET*\n\n";
            message += "üìã *PRODUTOS:*\n";

            cart.forEach(item => {
                message += `‚Ä¢ ${item.title}\n`;
                message += `  Quantidade: ${item.quantity}\n`;
                message += `  Pre√ßo unit.: R$ ${item.price.toFixed(2).replace('.', ',')}\n`;
                message += `  Subtotal: R$ ${(item.price * item.quantity).toFixed(2).replace('.', ',')}\n\n`;
            });

            message += `üí∞ *TOTAL: R$ ${total.toFixed(2).replace('.', ',')}*\n\n`;
            message += "üì± Para finalizar o pedido, informe:\n";
            message += "‚Ä¢ Nome completo\n";
            message += "‚Ä¢ Endere√ßo para entrega\n";
            message += "‚Ä¢ Telefone para contato\n";
            message += "‚Ä¢ Forma de pagamento preferida\n\n";
            message += "üöö Entregamos em toda a regi√£o!\n";
            message += "üí≥ Aceitamos PIX, cart√£o e dinheiro";

            // Encode message for WhatsApp
            const encodedMessage = encodeURIComponent(message);
            const whatsappNumber = "5511999999999"; // Substitua pelo n√∫mero real da SocializaPet
            const whatsappURL = `https://wa.me/${whatsappNumber}?text=${encodedMessage}`;

            // Salvar pedido no painel administrativo
            saveWhatsAppOrderToAdmin();

            // Open WhatsApp
            window.open(whatsappURL, '_blank');

            // Show success message
            showToast("üì± Redirecionando para WhatsApp...");

            // Optional: Clear cart after checkout
            setTimeout(() => {
                if (confirm("Deseja limpar o carrinho ap√≥s enviar o pedido?")) {
                    cart = [];
                    localStorage.setItem('cart', JSON.stringify(cart));
                    updateCartCount();
                    updateCartDisplay();
                    toggleCart();
                }
            }, 2000);
        }

        // =============== ADMIN INTEGRATION ===============
        function saveOrderToAdmin(orderId, paymentType) {
            try {
                // Recuperar pedidos existentes
                const existingOrders = JSON.parse(localStorage.getItem('socializaPetOrders') || '[]');

                // Criar objeto do pedido
                const order = {
                    id: orderId,
                    date: new Date().toISOString(),
                    customer: {
                        name: orderData.customer.name || 'N/A',
                        email: orderData.customer.email || 'N/A',
                        phone: orderData.customer.phone || 'N/A',
                        cpf: orderData.customer.cpf || 'N/A'
                    },
                    address: {
                        cep: orderData.customer.cep || 'N/A',
                        address: orderData.customer.address || 'N/A',
                        number: orderData.customer.number || 'N/A',
                        complement: orderData.customer.complement || '',
                        neighborhood: orderData.customer.neighborhood || 'N/A',
                        city: orderData.customer.city || 'N/A',
                        state: orderData.customer.state || 'N/A'
                    },
                    items: cart.map(item => ({
                        title: item.title,
                        quantity: item.quantity,
                        price: item.price
                    })),
                    shipping: selectedShipping,
                    payment: paymentType,
                    total: orderData.total,
                    status: 'pending'
                };

                // Adicionar novo pedido
                existingOrders.push(order);

                // Salvar no localStorage
                localStorage.setItem('socializaPetOrders', JSON.stringify(existingOrders));

                console.log('Pedido salvo para o painel administrativo:', order);

            } catch (error) {
                console.error('Erro ao salvar pedido no painel administrativo:', error);
            }
        }

        function saveWhatsAppOrderToAdmin() {
            try {
                if (cart.length === 0) return;

                const orderId = 'WA' + Date.now();
                const existingOrders = JSON.parse(localStorage.getItem('socializaPetOrders') || '[]');

                const order = {
                    id: orderId,
                    date: new Date().toISOString(),
                    customer: {
                        name: 'Cliente WhatsApp',
                        email: 'whatsapp@socializapet.com',
                        phone: 'Via WhatsApp',
                        cpf: 'N/A'
                    },
                    address: {
                        cep: 'N/A',
                        address: 'Endere√ßo via WhatsApp',
                        number: 'N/A',
                        complement: '',
                        neighborhood: 'N/A',
                        city: 'N/A',
                        state: 'N/A'
                    },
                    items: cart.map(item => ({
                        title: item.title,
                        quantity: item.quantity,
                        price: item.price
                    })),
                    shipping: null,
                    payment: 'whatsapp',
                    total: cart.reduce((total, item) => total + (item.price * item.quantity), 0),
                    status: 'pending'
                };

                existingOrders.push(order);
                localStorage.setItem('socializaPetOrders', JSON.stringify(existingOrders));

                console.log('Pedido WhatsApp salvo para o painel administrativo:', order);

            } catch (error) {
                console.error('Erro ao salvar pedido WhatsApp no painel administrativo:', error);
            }
        }

        // Show toast notification
        function showToast(message) {
            // Create toast element
            const toast = document.createElement('div');
            toast.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: var(--gradient-1);
                color: white;
                padding: 15px 20px;
                border-radius: 10px;
                font-weight: 600;
                z-index: 3000;
                animation: slideInRight 0.3s ease-out;
                box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            `;
            toast.textContent = message;

            // Add animation
            const style = document.createElement('style');
            style.textContent = `
                @keyframes slideInRight {
                    from { transform: translateX(100%); opacity: 0; }
                    to { transform: translateX(0); opacity: 1; }
                }
            `;
            document.head.appendChild(style);

            document.body.appendChild(toast);

            // Remove after 3 seconds
            setTimeout(() => {
                toast.style.animation = 'slideInRight 0.3s ease-out reverse';
                setTimeout(() => {
                    document.body.removeChild(toast);
                    document.head.removeChild(style);
                }, 300);
            }, 3000);
        }

        // Close modal when clicking outside
        document.getElementById('productModal').addEventListener('click', function (e) {
            if (e.target === this) {
                closeModal();
            }
        });

        // Close cart when clicking outside
        document.addEventListener('click', function (e) {
            const cart = document.getElementById('cartSidebar');
            const cartIcon = document.querySelector('.cart-icon');

            if (!cart.contains(e.target) && !cartIcon.contains(e.target) && cart.classList.contains('active')) {
                toggleCart();
            }
        });

        // =============== CONTENT MANAGEMENT SYSTEM ===============
        // Load dynamic content from admin panel on page load
        document.addEventListener('DOMContentLoaded', function () {
            loadDynamicContent();
        });

        function loadDynamicContent() {
            loadProducts();
            loadSiteSettings();
            loadSiteContent();
            loadShopBanner(); // Carregar banner da loja
        }

        // Convert Google Drive URL to direct image URL
        function convertGoogleDriveUrl(url) {
            if (!url || !url.includes('drive.google.com')) {
                return url;
            }

            let fileId = '';
            if (url.includes('uc?export=view&id=')) {
                fileId = url.split('id=')[1].split('&')[0];
            } else if (url.includes('/file/d/')) {
                fileId = url.split('/file/d/')[1].split('/')[0];
            } else if (url.includes('open?id=')) {
                fileId = url.split('id=')[1].split('&')[0];
            }

            if (fileId) {
                return `https://drive.google.com/uc?export=view&id=${fileId}`;
            }
            return url;
        }

        // Load banner from admin panel
        function loadShopBanner() {
            const allBanners = JSON.parse(localStorage.getItem('socializaPetBanners')) || [];
            // Filter banners for shop page
            const banners = allBanners.filter(banner =>
                banner.page === 'loja' || banner.page === 'todas' || (!banner.page && allBanners.indexOf(banner) === 0) // Fallback
            );
            const bannerContainer = document.getElementById('shopBanner');

            console.log('üî• CARREGANDO BANNERS LOJA:', banners);

            if (!bannerContainer) return; // Se n√£o existir o container, sair

            if (banners.length > 0) {
                // Use first matching banner for shop
                const banner = banners[0];
                console.log('üî• BANNER LOJA:', banner);

                let imageContent = '';
                if (banner.iframe && banner.imageType === 'iframe') {
                    // Usar iframe do Google Drive
                    const iframeWithStyle = banner.iframe.replace(
                        '<iframe',
                        '<iframe style="width: 100%; height: 300px; border: none; object-fit: cover;"'
                    );
                    imageContent = iframeWithStyle;
                } else {
                    // Usar imagem normal
                    const imageUrl = convertGoogleDriveUrl(banner.image);
                    imageContent = `<img src="${imageUrl}" alt="${banner.title}" style="width: 100%; height: 300px; object-fit: cover;">`;
                }

                bannerContainer.innerHTML = `
                    ${imageContent}
                    <div class="banner-overlay">
                        <h2>${banner.title}</h2>
                        <p>${banner.text || banner.description}</p>
                    </div>
                `;
            } else {
                // Default banner when no admin banners
                bannerContainer.innerHTML = `
                    <div class="banner-placeholder">
                        <h2>üõçÔ∏è Nossa Loja Pet</h2>
                        <p>Produtos incr√≠veis para seu melhor amigo!</p>
                    </div>
                `;
            }
        }

        // Load products from admin panel
        function loadProducts() {
            const products = JSON.parse(localStorage.getItem('siteProducts') || localStorage.getItem('socializaPetProducts')) || [];

            if (products.length > 0) {
                const productGrid = document.querySelector('.shop-grid');
                if (productGrid) {
                    productGrid.innerHTML = products.map(product => `
                        <div class="product-card">
                            <div class="product-image">
                                <img src="${product.image}" alt="${product.name}" onerror="this.src='https://picsum.photos/300/280?random=${Math.floor(Math.random() * 100)}'">
                                <div class="product-overlay">
                                    <button class="btn-view" onclick="viewProduct(${JSON.stringify(product).replace(/"/g, '&quot;')})">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button class="btn-cart" onclick="addToCart(${product.id || Math.random()}, '${product.name}', ${product.price})">
                                        <i class="fas fa-shopping-cart"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="product-info">
                                <h3 class="product-name">${product.name}</h3>
                                <p class="product-description">${product.description}</p>
                                <div class="product-footer">
                                    <span class="product-price">R$ ${typeof product.price === 'number' ? product.price.toFixed(2) : parseFloat(product.price).toFixed(2)}</span>
                                    <div class="product-actions">
                                        <button class="btn-favorite">
                                            <i class="far fa-heart"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `).join('');

                    // Update product count
                    const productCount = document.querySelector('.shop-header p');
                    if (productCount) {
                        productCount.textContent = `Encontramos ${products.length} produto${products.length > 1 ? 's' : ''} para voc√™!`;
                    }
                }
            }
        }

        // Load site settings (colors, etc.)
        function loadSiteSettings() {
            const settings = JSON.parse(localStorage.getItem('siteSettings') || localStorage.getItem('socializaPetSettings')) || {};

            // Update CSS custom properties for colors
            if (settings.primaryColor || settings.secondaryColor) {
                const root = document.documentElement;
                if (settings.primaryColor) {
                    root.style.setProperty('--primary-pink', settings.primaryColor);
                }
                if (settings.secondaryColor) {
                    root.style.setProperty('--primary-blue', settings.secondaryColor);
                }
            }
        }

        // Load site content
        function loadSiteContent() {
            const content = JSON.parse(localStorage.getItem('siteContent') || localStorage.getItem('socializaPetContent')) || {};

            // Update page title
            if (content.title) {
                document.title = `Loja - ${content.title}`;

                // Update logo text if exists
                const logoText = document.querySelector('.logo');
                if (logoText && content.title) {
                    logoText.innerHTML = `${content.title.replace('Pet', '<span style="color: var(--primary-pink);">Pet</span>')}`;
                }
            }

            // Update WhatsApp contact info
            if (content.whatsapp) {
                window.siteWhatsApp = content.whatsapp;
            }
        }

        // Enhanced view product function
        function viewProduct(product) {
            const modal = document.getElementById('productModal');
            const modalImage = document.getElementById('modalProductImage');
            const modalName = document.getElementById('modalProductName');
            const modalPrice = document.getElementById('modalProductPrice');
            const modalDescription = document.getElementById('modalProductDescription');

            if (modal && modalImage && modalName && modalPrice && modalDescription) {
                modalImage.src = product.image;
                modalImage.alt = product.name;
                modalName.textContent = product.name;
                modalPrice.textContent = `R$ ${typeof product.price === 'number' ? product.price.toFixed(2) : parseFloat(product.price).toFixed(2)}`;
                modalDescription.textContent = product.description;

                modal.style.display = 'block';
            }
        }

        // Mobile Menu Functions
        function toggleMobileMenu() {
            const mobileNav = document.getElementById('mobileNav');
            const mobileOverlay = document.getElementById('mobileOverlay');

            mobileNav.classList.toggle('active');
            mobileOverlay.classList.toggle('active');

            // Prevent body scroll when menu is open
            if (mobileNav.classList.contains('active')) {
                document.body.style.overflow = 'hidden';
            } else {
                document.body.style.overflow = 'auto';
            }
        }

        // Close mobile menu on window resize
        window.addEventListener('resize', function () {
            if (window.innerWidth > 768) {
                const mobileNav = document.getElementById('mobileNav');
                const mobileOverlay = document.getElementById('mobileOverlay');

                mobileNav.classList.remove('active');
                mobileOverlay.classList.remove('active');
                document.body.style.overflow = 'auto';
            }
        });

        // =============== BUY DIRECT FUNCTION ===============
        function buyDirect(productLink) {
            if (!productLink) {
                alert('üîó Link de compra n√£o dispon√≠vel para este produto.');
                return;
            }

            const confirmBuy = confirm(`üõçÔ∏è Voc√™ ser√° redirecionado para comprar este produto diretamente!\n\nDeseja continuar?`);

            if (confirmBuy) {
                // Abrir link em nova aba
                window.open(productLink, '_blank');
                showToast("üõçÔ∏è Redirecionando para compra...");
            }
        }

        // =============== SHOPEE REDIRECT FUNCTION ===============
        function redirectToShopee() {
            if (cart.length === 0) {
                alert('üõí Seu carrinho est√° vazio!\nAdicione produtos para continuar.');
                return;
            }

            // URL da loja na Shopee (substitua pela URL real)
            const shopeeURL = 'https://shopee.com.br/search?keyword=socializapet'; // Substitua pela URL real da sua loja

            let message = `üõçÔ∏è Voc√™ ser√° redirecionado para nossa loja na Shopee!\n\n`;
            message += `üì¶ Itens no carrinho: ${cart.length}\n`;
            message += `üí∞ Total aproximado: R$ ${cart.reduce((total, item) => total + (item.price * item.quantity), 0).toFixed(2).replace('.', ',')}\n\n`;
            message += `Deseja continuar?`;

            const confirmShopee = confirm(message);

            if (confirmShopee) {
                // Abrir Shopee em nova aba
                window.open(shopeeURL, '_blank');

                showToast("üõçÔ∏è Redirecionando para Shopee...");

                // Opcional: limpar carrinho ap√≥s redirecionamento
                setTimeout(() => {
                    if (confirm("Deseja limpar o carrinho ap√≥s redirecionamento para Shopee?")) {
                        cart = [];
                        localStorage.setItem('cart', JSON.stringify(cart));
                        updateCartCount();
                        // Call update functions if they exist in scope
                        if (typeof updateCartItems === 'function') updateCartItems();
                        toggleCart();
                    }
                }, 2000);
            }
        }

        // =============== SITE CUSTOMIZATION ===============
        // Load site settings (colors, logo, etc.)
        function loadSiteSettings() {
            const settings = JSON.parse(localStorage.getItem('siteSettings') || localStorage.getItem('socializaPetSettings')) || {};

            // Update CSS custom properties for colors
            if (settings.primaryColor || settings.secondaryColor) {
                const root = document.documentElement;
                if (settings.primaryColor) {
                    root.style.setProperty('--primary-pink', settings.primaryColor);
                }
                if (settings.secondaryColor) {
                    root.style.setProperty('--primary-blue', settings.secondaryColor);
                }
            }

            // Update Header Logo
            if (settings.faviconUrl) {
                const siteLogo = document.getElementById('siteLogo');
                if (siteLogo) {
                    let img = siteLogo.querySelector('img');
                    if (!img) {
                        img = document.createElement('img');
                        img.style.height = '1.2em';
                        img.style.verticalAlign = 'middle';
                        img.style.marginRight = '8px';
                        siteLogo.insertBefore(img, siteLogo.firstChild);
                    }
                    img.src = settings.faviconUrl;
                    img.alt = 'Logo';
                }
            }
        }

        // Apply admin favicon
        function applySiteFavicon() {
            const settings = JSON.parse(localStorage.getItem('socializaPetSettings') || '{}');
            if (settings.faviconUrl) {
                const existingFavicons = document.querySelectorAll('link[data-admin-favicon="true"]');
                existingFavicons.forEach(link => link.remove());

                const head = document.head;
                const sizes = ['16x16', '32x32', '48x48', '64x64'];

                sizes.forEach(size => {
                    const favicon = document.createElement('link');
                    favicon.rel = 'icon';
                    favicon.type = 'image/png';
                    favicon.sizes = size;
                    favicon.href = settings.faviconUrl;
                    favicon.setAttribute('data-admin-favicon', 'true');
                    head.appendChild(favicon);
                });

                const headLinks = document.head.querySelectorAll('link[rel*="icon"]');
                headLinks.forEach(l => l.href = settings.faviconUrl);
            }
        }

        // Initialize Customization
        document.addEventListener('DOMContentLoaded', function () {
            loadSiteSettings();
            applySiteFavicon();
        });
    </script>
</body>

</html>